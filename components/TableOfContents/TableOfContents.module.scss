@use "../../styles/mixins" as *;

.toc {
    max-inline-size: 40ch;
    padding: var(--space-m);
    margin-block: var(--space-l);
    margin-block-end: var(--space-3xl);
    gap: 0;

    header {
        align-items: center;
        gap: 0;
    }

    .heading {
        font-size: var(--typography-size-200);
    }
}

.toggle {
    @include inline-center;

    min-block-size: var(--size-tap-min);
    min-inline-size: var(--size-tap-min);
    padding: var(--space-xs);
    background: none;
    border: none;
    color: var(--colour-text);
    cursor: pointer;
    transition:
        color var(--motion-dur-200) var(--motion-ease-standard),
        transform var(--motion-dur-120) var(--motion-ease-emphasized);

    @media (hover: hover) and (pointer: fine) {
        &:hover {
            color: var(--colour-primary);
            transform: scale(1.1);
        }

        &:active {
            transform: scale(0.95);
        }
    }

    @media (prefers-reduced-motion: reduce) {
        transition: none;
        transform: none;
    }
}

.icon {
    inline-size: var(--size-icon-md);
    block-size: var(--size-icon-md);
    fill: currentcolor;
    transition: transform var(--motion-dur-320) var(--motion-ease-emphasized);
}

.toggle[aria-expanded="false"] .icon {
    transform: rotate(180deg);
}

@media (prefers-reduced-motion: reduce) {
    .icon {
        transition: none;
    }
}

.content {
    transition:
        height var(--motion-dur-320) var(--motion-ease-standard),
        opacity var(--motion-dur-200) var(--motion-ease-standard);
    overflow: hidden;
}

.collapsed {
    opacity: 0;
}

@media (prefers-reduced-motion: reduce) {
    .content {
        transition: none;
    }
}

.list {
    margin: 0;
    font-size: var(--typography-size-100);

    @include grid-stack(var(--space-xs));
}

.item[data-level="3"] {
    margin-inline-start: var(--space-m);
}

.item[data-level="4"] {
    margin-inline-start: calc(var(--space-m) * 2);
}

.item[data-level="5"] {
    margin-inline-start: calc(var(--space-m) * 3);
}

.item[data-level="6"] {
    margin-inline-start: calc(var(--space-m) * 4);
}

.link {
    text-decoration: none;
    color: var(--colour-text);
}

.link:focus-visible {
    text-decoration: underline;
}

@media (hover: hover) and (pointer: fine) {
    .link:hover {
        text-decoration: underline;
    }
}

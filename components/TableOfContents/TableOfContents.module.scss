@use "../../styles/mixins" as *;

.toc {
    max-inline-size: 40ch;
    padding: var(--space-scale-100);
    margin-block: var(--space-scale-150);
    margin-block-end: var(--space-scale-400);
    gap: 0;

    header {
        align-items: center;
        gap: 0;
    }

    .heading {
        font-size: var(--typography-size-200);
    }
}

.toggle {
    @include icon-button;
}

.icon {
    inline-size: var(--size-icon-md);
    block-size: var(--size-icon-md);
    fill: currentcolor;
    transition: transform var(--motion-dur-320) var(--motion-ease-emphasized);
}

.toggle[aria-expanded="false"] .icon {
    transform: rotate(180deg);
}

.content {
    transition:
        height var(--motion-dur-320) var(--motion-ease-standard),
        opacity var(--motion-dur-200) var(--motion-ease-standard);
    overflow: hidden;
}

.collapsed {
    opacity: 0;
}

@media (prefers-reduced-motion: reduce) {
    .toggle {
        transition: none;
        transform: none;
    }

    .icon,
    .content {
        transition: none;
    }
}

.list {
    margin: 0;
    margin-block: var(--space-scale-100);
    margin-inline-start: var(--space-scale-150);
    font-size: var(--typography-size-100);

    @include grid-stack(var(--space-scale-050));
}

.item[data-level="3"] {
    margin-inline-start: var(--space-scale-100);
}

.item[data-level="4"] {
    margin-inline-start: calc(var(--space-scale-100) * 2);
}

.item[data-level="5"] {
    margin-inline-start: calc(var(--space-scale-100) * 3);
}

.item[data-level="6"] {
    margin-inline-start: calc(var(--space-scale-100) * 4);
}

.link {
    text-decoration: none;
    color: var(--colour-text);
}

.link:focus-visible {
    text-decoration: underline;
}

@media (hover: hover) and (pointer: fine) {
    .toggle:hover {
        color: var(--colour-primary);
        transform: scale(1.1);
    }

    .toggle:active {
        transform: scale(0.95);
    }

    .link:hover {
        text-decoration: underline;
    }
}

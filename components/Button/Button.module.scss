@use "../../styles/mixins" as *;

.button {
    @include inline-center;

    --button-background: var(--colour-primary);
    --button-background-hover: var(--colour-primary-hover);
    --button-background-active: var(--colour-primary-active);
    --button-color: var(--colour-on-primary);
    --button-border: transparent;
    --button-width: auto;

    border: var(--border-width-s) solid var(--button-border);
    cursor: pointer;
    font: inherit;
    font-family: var(--font-header), sans-serif;
    font-weight: var(--font-weight-semibold);
    text-decoration: none;
    padding-block: var(--space-s);
    padding-inline: var(--space-m);
    border-radius: var(--radius-m);
    min-block-size: var(--size-tap-min);
    box-shadow: var(--shadow-elev-1);
    will-change: box-shadow, transform, background;
    background: var(--button-background);
    color: var(--button-color);
    width: var(--button-width);
}

.button[data-size="sm"] {
    padding-block: var(--space-xs);
    padding-inline: var(--space-xs);
    font-size: var(--typography-size-100);
}

.button[data-size="lg"] {
    padding-block: var(--space-m);
    padding-inline: var(--space-l);
    font-size: var(--typography-size-200);
}

.button[data-variant="secondary"] {
    --button-background: transparent;
    --button-background-hover: var(--colour-primary-hover);
    --button-background-active: var(--colour-primary-active);
    --button-color: var(--colour-primary);
    --button-color-hover: var(--colour-on-primary);
    --button-border: var(--colour-primary);
}

.button[data-fullwidth="true"] {
    --button-width: 100%;
}

.button:disabled,
.button[aria-disabled="true"] {
    cursor: not-allowed;
    opacity: 0.6;
}

.button:not(:is(:disabled, [aria-disabled="true"])):focus-visible {
    box-shadow: var(--shadow-elev-2);
}

@media (hover: hover) and (pointer: fine) {
    .button:not(:is(:disabled, [aria-disabled="true"])) {
        transition:
            background var(--motion-dur-200) var(--motion-ease-standard),
            box-shadow var(--motion-dur-200) var(--motion-ease-standard),
            transform var(--motion-dur-120) var(--motion-ease-emphasized);
    }

    .button:not(:is(:disabled, [aria-disabled="true"])):hover {
        box-shadow: var(--shadow-elev-2);
        transform: translateY(-1px);
        background: var(--button-background-hover);
        color: var(--button-color-hover, var(--button-color));
    }

    .button:not(:is(:disabled, [aria-disabled="true"])):active {
        box-shadow: var(--shadow-elev-3);
        transform: translateY(1px);
        background: var(--button-background-active);
    }
}

@media (prefers-reduced-motion: reduce) {
    .button {
        transition: none;
        transform: none;
    }

    .button:not(:is(:disabled, [aria-disabled="true"])):hover {
        transform: none;
    }
}

@use "../../styles/mixins" as *;

@keyframes fade-out {
    from {
        opacity: 1;
    }

    to {
        opacity: 0;
    }
}

@keyframes shimmer {
    0% {
        background-position: -200% 0;
    }

    100% {
        background-position: 200% 0;
    }
}

.player {
    @include stack(var(--space-xs));

    position: relative;
    margin-block-start: var(--space-l);
    border: var(--border-width-s) solid var(--colour-border);
    border-radius: var(--radius-m);
    background: var(--surface-level-1);
    box-shadow: var(--shadow-elev-1);
    padding: var(--space-m);
}

.controls {
    display: flex;
    align-items: center;
    gap: var(--space-s);
}

.play {
    @include inline-center;

    padding: var(--space-xs);
}

.icon {
    inline-size: var(--size-icon-l);
    block-size: var(--size-icon-m);
    fill: currentcolor;
}

.slider {
    flex: 1;
    accent-color: var(--colour-primary);
}

.time {
    font-variant-numeric: tabular-nums;
    font-size: var(--typography-size-100);
}

.title {
    font-size: var(--typography-size-200);
}

.waveformWrapper {
    position: relative;
}

.waveform {
    inline-size: 100%;
    height: var(--space-xl);
    margin-block-end: var(--space-s);
}

.native {
    display: none;
}

.loading {
    position: absolute;
    inset: 0;
    cursor: not-allowed;
    z-index: var(--z-2);
    border-radius: var(--radius-xs);
    mix-blend-mode: color-dodge;
    height: var(--space-xl);

    &::before {
        content: "";
        position: absolute;
        inset: 0;
        background: linear-gradient(
            120deg,
            var(--surface-level-1) 0%,
            var(--surface-level-2) 40%,
            var(--surface-level-1) 80%
        );
        background-size: 200% 100%;
        animation: shimmer var(--motion-dur-1000) var(--motion-ease-infinite)
            linear;
        border-radius: var(--radius-m);
    }
}

.loaded {
    pointer-events: none;
    animation: fade-out var(--motion-dur-320) var(--motion-ease-emphasized) both;
}

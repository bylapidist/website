@use "../../styles/mixins" as *;

@keyframes fade-out {
    from {
        opacity: var(--opacity-100);
    }

    to {
        opacity: var(--opacity-0);
    }
}

@keyframes shimmer {
    0% {
        background-position: -100% 0;
    }

    100% {
        background-position: 100% 0;
    }
}

.player {
    @include stack(var(--space-scale-050));

    position: relative;
    margin-block-start: var(--space-scale-150);
    border: var(--border-width-s) solid var(--colour-border);
    border-radius: var(--radius-m);
    background: var(--surface-level-1);
    box-shadow: var(--shadow-elev-1);
    padding: var(--space-scale-100);

    .title {
        font-size: var(--typography-size-300);
        line-height: var(--typography-line-height-heading-lg);
        margin-block-end: var(--space-scale-050);
    }
}

.controls {
    display: flex;
    align-items: center;
    gap: var(--space-scale-075);
}

.play {
    @include inline-center;

    padding: var(--space-scale-050);
}

.icon {
    inline-size: var(--size-icon-xl);
    block-size: var(--size-icon-md);
    fill: currentcolor;
}

.slider {
    flex: 1;
    accent-color: var(--colour-primary);
}

.time {
    font-variant-numeric: tabular-nums;
    font-size: var(--typography-size-100);
}

.waveformWrapper {
    position: relative;
}

.waveform {
    inline-size: 100%;
    height: var(--space-scale-200);
    margin-block-end: var(--space-scale-075);
}

.native {
    display: none;
}

.loading {
    position: absolute;
    inset: 0;
    cursor: not-allowed;
    z-index: var(--z-2);
    border-radius: var(--radius-xs);
    height: var(--space-scale-200);
    opacity: var(--opacity-90);

    &::before {
        content: "";
        position: absolute;
        inset: 0;
        background: linear-gradient(
            120deg,
            var(--colour-logo-blue) 0%,
            var(--colour-logo-green) 25%,
            var(--colour-logo-yellow) 50%,
            var(--colour-logo-green) 75%,
            var(--colour-logo-blue) 100%
        );
        background-size: 200% 100%;
        animation: shimmer var(--motion-dur-1000) var(--motion-ease-infinite)
            linear;
        border-radius: var(--radius-s);
        box-shadow: var(--shadow-elev-1);
    }
}

.loaded {
    pointer-events: none;
    animation: fade-out var(--motion-dur-320) var(--motion-ease-emphasized) both;
}
